{"version":3,"file":"js/452.0af96973.js","mappings":"sJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,SAAS,CAACE,YAAY,aAAaC,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,UAAU,CAACI,IAAI,YAAYF,YAAY,WAAWC,MAAM,CAAC,iBAAiBP,EAAIS,cAAc,cAAc,OAAO,MAAQT,EAAIU,UAAU,MAAQV,EAAIW,QAAQ,CAACP,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACH,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIU,UAAkB,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,WAAYK,IAAME,WAAW,yBAAyB,GAAGb,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACH,EAAG,WAAW,CAACQ,MAAM,CAACC,MAAOb,EAAIU,UAAkB,SAAEI,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIU,UAAW,WAAYK,IAAME,WAAW,yBAAyB,GAAGb,EAAG,YAAY,CAACE,YAAY,UAAUY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOnB,EAAIoB,SAAS,gBAAgB,CAACpB,EAAIqB,GAAG,UAAU,IAAI,IAAI,IAC74BC,EAAkB,G,UCGf,SAASC,EAASC,GACvB,OAAOC,EAAAA,EAAAA,GAAQ,CACbC,IAAK,kBACLC,OAAQ,OACRH,KAAAA,ICeJ,OACEI,KAAM,QACNC,WAAY,GAGZL,OACE,MAAO,CAELf,cAAe,QACfE,MAAO,CACLmB,SAAU,CAClB,CAAU,UAAVC,EAAU,QAAVC,SAAU,QAAVC,QACA,CAAU,IAAVC,EAAU,IAAVC,GAAU,QAAVH,iBAAU,QAAVC,SAEQG,SAAU,CAAlBL,UAAAA,EAAAC,QAAAA,QAAAC,QAAAA,SAEMvB,UAAW,CACToB,SAAU,GACVM,SAAU,GACVC,OAAQ,MAIdC,QAAS,CACX,kBACMrC,KAAKsC,MAAMC,GAAUC,UAAS,IAC5B,IAAIC,EAYF,OAAO,EAZE,CAGT,IAAIC,EAAQ,CACVC,SAAU3C,KAAKS,UAAUoB,SACzBM,SAAUnC,KAAKS,UAAU0B,SACzBS,UAAW5C,KAAKS,UAAU2B,QAI5BpC,KAAK6C,QAAQH,QAMnBI,cAAcJ,GAMZ,IAAIK,QAAYzB,EAASoB,GAEzB,GADA,QAANM,IAAAA,GACA,cACQ,KAAR,UACU,QAAVjB,OACU,KAAVkB,YAGQ,IAAR,qCACQ,KAAR,yBAEQ,YAARC,KACU,KAAV,cAAY,KAAZvB,aACA,UCpFiQ,I,UCQ7PwB,GAAY,OACd,EACArD,EACAuB,GACA,EACA,KACA,WACA,MAIF,EAAe8B,EAAiB","sources":["webpack://loho3/./src/views/login.vue?5c26","webpack://loho3/./src/api/api.js","webpack://loho3/src/views/login.vue","webpack://loho3/./src/views/login.vue?2d82","webpack://loho3/./src/views/login.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('el-col',{staticClass:\"middle-con\",attrs:{\"span\":10}},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-fm\",attrs:{\"label-position\":_vm.labelPosition,\"label-width\":\"80px\",\"model\":_vm.loginForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.loginForm.nickname),callback:function ($$v) {_vm.$set(_vm.loginForm, \"nickname\", $$v)},expression:\"loginForm.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-button',{staticClass:\"sub-btn\",on:{\"click\":function($event){return _vm.loginSub('loginForm')}}},[_vm._v(\"提 交\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/plugins/request';\r\n\r\n//登录页面\r\n//post请求\r\nexport function issignin(data) {\r\n  return request({\r\n    url: '/users/issignin',\r\n    method: 'post',\r\n    data\r\n  })\r\n}\r\n","<template>\r\n  <div class=\"login\">\r\n    <!-- <el-row class=\"tac middle-con\"> -->\r\n    <el-col class=\"middle-con\" :span=\"10\">\r\n      <el-form class=\"login-fm\" :label-position=\"labelPosition\" label-width=\"80px\" :model=\"loginForm\" :rules=\"rules\" ref=\"loginForm\">\r\n        <el-form-item label=\"用户名\" prop=\"nickname\">\r\n          <el-input v-model=\"loginForm.nickname\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"loginForm.password\"></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"手机号\">\r\n            <el-input v-model=\"loginForm.mobile\"></el-input>\r\n          </el-form-item> -->\r\n        <el-button class=\"sub-btn\" @click=\"loginSub('loginForm')\">提 交</el-button>\r\n      </el-form>\r\n    </el-col>\r\n    <!-- </el-row> -->\r\n  </div>\r\n</template>\r\n<script>\r\n// import $axios from '@/plugins/request';\r\nimport {issignin} from '../api/api';\r\nexport default {\r\n  name: 'login',\r\n  components: {\r\n    //引用的组件\r\n  },\r\n  data() {\r\n    return {\r\n      // baseUrl:GLOBAL.BASE_URL,\r\n      labelPosition: 'right',\r\n      rules: {\r\n        nickname: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 15, message: '长度在 3 到 15 个字符', trigger: 'blur' },\r\n        ],\r\n        password: { required: true, message: '请输入密码', trigger: 'blur' },\r\n      },\r\n      loginForm: {\r\n        nickname: '',\r\n        password: '',\r\n        mobile: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n   async loginSub(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          // let baseUrl = this.GLOBAL.BASE_URL;\r\n          //  console.log(this.loginForm);\r\n          let param = {\r\n            username: this.loginForm.nickname,\r\n            password: this.loginForm.password,\r\n            cellphone: this.loginForm.mobile,\r\n          };\r\n          // axios.post(baseUrl + 'api/users/issignin', param).then((res) => {\r\n          // })\r\n          this.subData(param);\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    async subData(param) {\r\n      // let res = await this.$axios({\r\n      //      url:'api/users/issignin',\r\n      //      method:'post',\r\n      //      data:param\r\n      //    });\r\n      let res = await issignin(param);\r\n            console.log(res);\r\n            if (res && res.success) {\r\n              this.$message({\r\n                message: '登陆成功',\r\n                type: 'success',\r\n              });\r\n              // console.log(res.data.user);\r\n              let userobj = JSON.parse(JSON.stringify(res.user));\r\n              this.$store.commit('login', userobj); //同步操作，直接调用mutations里的方法存入state里\r\n              //这里不能用路由来传参，因为layout做了路由重定向\r\n              setTimeout(() => {\r\n                this.$router.push({ name: 'Layout' });\r\n              }, 1500);\r\n            }\r\n          // });\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n//   @baseColor：red;\r\n\r\n.login {\r\n  width: 100%;\r\n  height: 100%;\r\n  //   color: @basecolor;\r\n  color: red;\r\n  position: relative;\r\n  background: linear-gradient(to bottom, #e8f4f5, #6ff1fd);\r\n  div {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .middle-con {\r\n    width:640px;\r\n    height:198px;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-top: -172px;\r\n    margin-left: -304px;\r\n    background: #3dc5f7;\r\n    background: linear-gradient(to right bottom, #93ddf8, #6ba1b4);\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .login-fm {\r\n    padding: 20px 20px 50px;\r\n    position: relative;\r\n  }\r\n  .sub-btn {\r\n    background: #93ddf8;\r\n    color: #333333;\r\n    border: 1px solid #85c6dd;\r\n    position: absolute;\r\n    right: 20px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=04b2a68d&scoped=true&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=04b2a68d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04b2a68d\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","labelPosition","loginForm","rules","model","value","callback","$$v","$set","expression","on","$event","loginSub","_v","staticRenderFns","issignin","data","request","url","method","name","components","nickname","required","message","trigger","min","max","password","mobile","methods","$refs","formName","validate","valid","param","username","cellphone","subData","async","res","console","type","setTimeout","component"],"sourceRoot":""}